[
  {
    "Name": "EPUB 3 book with remote content files - without options",
    "Options": null,
    "ExpectedResult": {
      "$file": "test.epub",
      "Title": "Test title",
      "Author": "John Doe",
      "AuthorList": [
        "John Doe"
      ],
      "$cover": "epub://Content/cover.jpg",
      "Navigation": [
        {
          "Type": "HEADER",
          "Title": "Table of Contents",
          "NestedItems": [
            {
              "Type": "HEADER",
              "Title": "Test header"
            }
          ]
        }
      ],
      "Schema": {
        "Package": {
          "EpubVersion": "EPUB_3",
          "Metadata": {
            "Titles": [
              "Test title"
            ],
            "Creators": [
              {
                "Creator": "John Doe"
              }
            ]
          },
          "Manifest": {
            "Items": [
              {
                "Id": "html-local",
                "Href": "chapter.html",
                "MediaType": "application/xhtml+xml"
              },
              {
                "Id": "css-local",
                "Href": "styles.css",
                "MediaType": "text/css"
              },
              {
                "Id": "image-local",
                "Href": "cover.jpg",
                "MediaType": "image/jpeg",
                "Properties": [
                  "COVER_IMAGE"
                ]
              },
              {
                "Id": "font-local",
                "Href": "font.ttf",
                "MediaType": "application/x-font-truetype"
              },
              {
                "Id": "html-remote",
                "Href": "https://os.vers.one/EpubReader/toc.html",
                "MediaType": "application/xhtml+xml"
              },
              {
                "Id": "css-remote",
                "Href": "https://os.vers.one/EpubReader/styles/docfx.css",
                "MediaType": "text/css"
              },
              {
                "Id": "image-remote",
                "Href": "https://os.vers.one/EpubReader/images/logo.svg",
                "MediaType": "image/svg+xml"
              },
              {
                "Id": "font-remote",
                "Href": "https://os.vers.one/EpubReader/fonts/glyphicons-halflings-regular.ttf",
                "MediaType": "application/x-font-truetype"
              },
              {
                "Id": "item-toc",
                "Href": "toc.html",
                "MediaType": "application/xhtml+xml",
                "Properties": [
                  "NAV"
                ]
              }
            ]
          },
          "Spine": {}
        },
        "Epub3NavDocument": {
          "FilePath": "Content/toc.html",
          "Navs": [
            {
              "Type": "TOC",
              "Head": "Table of Contents",
              "Ol": {
                "Lis": [
                  {
                    "Span": {
                      "Text": "Test header"
                    }
                  }
                ]
              }
            }
          ]
        },
        "ContentDirectoryPath": "Content"
      },
      "Content": {
        "Cover": {
          "$content": "epub://Content/cover.jpg",
          "FilePath": "Content/cover.jpg",
          "Key": "cover.jpg",
          "ContentType": "IMAGE_JPEG",
          "ContentMimeType": "image/jpeg"
        },
        "NavigationHtmlFile": {
          "$content": "epub://Content/toc.html",
          "FilePath": "Content/toc.html",
          "Key": "toc.html",
          "ContentType": "XHTML_1_1",
          "ContentMimeType": "application/xhtml+xml"
        },
        "Html": {
          "Local": {
            "chapter.html": {
              "$content": "epub://Content/chapter.html",
              "FilePath": "Content/chapter.html",
              "Key": "chapter.html",
              "ContentType": "XHTML_1_1",
              "ContentMimeType": "application/xhtml+xml"
            },
            "toc.html": {
              "$content": "epub://Content/toc.html",
              "FilePath": "Content/toc.html",
              "Key": "toc.html",
              "ContentType": "XHTML_1_1",
              "ContentMimeType": "application/xhtml+xml"
            }
          },
          "Remote": {
            "https://os.vers.one/EpubReader/toc.html": {
              "$content": null,
              "Url": "https://os.vers.one/EpubReader/toc.html",
              "Key": "https://os.vers.one/EpubReader/toc.html",
              "ContentType": "XHTML_1_1",
              "ContentMimeType": "application/xhtml+xml"
            }
          }
        },
        "Css": {
          "Local": {
            "styles.css": {
              "$content": "epub://Content/styles.css",
              "FilePath": "Content/styles.css",
              "Key": "styles.css",
              "ContentType": "CSS",
              "ContentMimeType": "text/css"
            }
          },
          "Remote": {
            "https://os.vers.one/EpubReader/styles/docfx.css": {
              "$content": null,
              "Url": "https://os.vers.one/EpubReader/styles/docfx.css",
              "Key": "https://os.vers.one/EpubReader/styles/docfx.css",
              "ContentType": "CSS",
              "ContentMimeType": "text/css"
            }
          }
        },
        "Images": {
          "Local": {
            "cover.jpg": {
              "$content": "epub://Content/cover.jpg",
              "FilePath": "Content/cover.jpg",
              "Key": "cover.jpg",
              "ContentType": "IMAGE_JPEG",
              "ContentMimeType": "image/jpeg"
            }
          },
          "Remote": {
            "https://os.vers.one/EpubReader/images/logo.svg": {
              "$content": null,
              "Url": "https://os.vers.one/EpubReader/images/logo.svg",
              "Key": "https://os.vers.one/EpubReader/images/logo.svg",
              "ContentType": "IMAGE_SVG",
              "ContentMimeType": "image/svg+xml"
            }
          }
        },
        "Fonts": {
          "Local": {
            "font.ttf": {
              "$content": "epub://Content/font.ttf",
              "FilePath": "Content/font.ttf",
              "Key": "font.ttf",
              "ContentType": "FONT_TRUETYPE",
              "ContentMimeType": "application/x-font-truetype"
            }
          },
          "Remote": {
            "https://os.vers.one/EpubReader/fonts/glyphicons-halflings-regular.ttf": {
              "$content": null,
              "Url": "https://os.vers.one/EpubReader/fonts/glyphicons-halflings-regular.ttf",
              "Key": "https://os.vers.one/EpubReader/fonts/glyphicons-halflings-regular.ttf",
              "ContentType": "FONT_TRUETYPE",
              "ContentMimeType": "application/x-font-truetype"
            }
          }
        },
        "AllFiles": {
          "Local": {
            "chapter.html": {
              "$type": "EpubLocalTextContentFile",
              "$content": "epub://Content/chapter.html",
              "FilePath": "Content/chapter.html",
              "Key": "chapter.html",
              "ContentType": "XHTML_1_1",
              "ContentMimeType": "application/xhtml+xml"
            },
            "toc.html": {
              "$type": "EpubLocalTextContentFile",
              "$content": "epub://Content/toc.html",
              "FilePath": "Content/toc.html",
              "Key": "toc.html",
              "ContentType": "XHTML_1_1",
              "ContentMimeType": "application/xhtml+xml"
            },
            "styles.css": {
              "$type": "EpubLocalTextContentFile",
              "$content": "epub://Content/styles.css",
              "FilePath": "Content/styles.css",
              "Key": "styles.css",
              "ContentType": "CSS",
              "ContentMimeType": "text/css"
            },
            "cover.jpg": {
              "$type": "EpubLocalByteContentFile",
              "$content": "epub://Content/cover.jpg",
              "FilePath": "Content/cover.jpg",
              "Key": "cover.jpg",
              "ContentType": "IMAGE_JPEG",
              "ContentMimeType": "image/jpeg"
            },
            "font.ttf": {
              "$type": "EpubLocalByteContentFile",
              "$content": "epub://Content/font.ttf",
              "FilePath": "Content/font.ttf",
              "Key": "font.ttf",
              "ContentType": "FONT_TRUETYPE",
              "ContentMimeType": "application/x-font-truetype"
            }
          },
          "Remote": {
            "https://os.vers.one/EpubReader/toc.html": {
              "$type": "EpubRemoteTextContentFile",
              "$content": null,
              "Url": "https://os.vers.one/EpubReader/toc.html",
              "Key": "https://os.vers.one/EpubReader/toc.html",
              "ContentType": "XHTML_1_1",
              "ContentMimeType": "application/xhtml+xml"
            },
            "https://os.vers.one/EpubReader/styles/docfx.css": {
              "$type": "EpubRemoteTextContentFile",
              "$content": null,
              "Url": "https://os.vers.one/EpubReader/styles/docfx.css",
              "Key": "https://os.vers.one/EpubReader/styles/docfx.css",
              "ContentType": "CSS",
              "ContentMimeType": "text/css"
            },
            "https://os.vers.one/EpubReader/images/logo.svg": {
              "$type": "EpubRemoteByteContentFile",
              "$content": null,
              "Url": "https://os.vers.one/EpubReader/images/logo.svg",
              "Key": "https://os.vers.one/EpubReader/images/logo.svg",
              "ContentType": "IMAGE_SVG",
              "ContentMimeType": "image/svg+xml"
            },
            "https://os.vers.one/EpubReader/fonts/glyphicons-halflings-regular.ttf": {
              "$type": "EpubRemoteByteContentFile",
              "$content": null,
              "Url": "https://os.vers.one/EpubReader/fonts/glyphicons-halflings-regular.ttf",
              "Key": "https://os.vers.one/EpubReader/fonts/glyphicons-halflings-regular.ttf",
              "ContentType": "FONT_TRUETYPE",
              "ContentMimeType": "application/x-font-truetype"
            }
          }
        }
      }
    }
  },
  {
    "Name": "EPUB 3 book with remote content files - with options",
    "Options": {
      "ContentDownloaderOptions": {
        "DownloadContent": true,
        "DownloaderUserAgent": "EpubReader Integration Test Runner (https://github.com/vers-one/EpubReader)"
      }
    },
    "ExpectedResult": {
      "$file": "test.epub",
      "Title": "Test title",
      "Author": "John Doe",
      "AuthorList": [
        "John Doe"
      ],
      "$cover": "epub://Content/cover.jpg",
      "Navigation": [
        {
          "Type": "HEADER",
          "Title": "Table of Contents",
          "NestedItems": [
            {
              "Type": "HEADER",
              "Title": "Test header"
            }
          ]
        }
      ],
      "Schema": {
        "Package": {
          "EpubVersion": "EPUB_3",
          "Metadata": {
            "Titles": [
              "Test title"
            ],
            "Creators": [
              {
                "Creator": "John Doe"
              }
            ]
          },
          "Manifest": {
            "Items": [
              {
                "Id": "html-local",
                "Href": "chapter.html",
                "MediaType": "application/xhtml+xml"
              },
              {
                "Id": "css-local",
                "Href": "styles.css",
                "MediaType": "text/css"
              },
              {
                "Id": "image-local",
                "Href": "cover.jpg",
                "MediaType": "image/jpeg",
                "Properties": [
                  "COVER_IMAGE"
                ]
              },
              {
                "Id": "font-local",
                "Href": "font.ttf",
                "MediaType": "application/x-font-truetype"
              },
              {
                "Id": "html-remote",
                "Href": "https://os.vers.one/EpubReader/toc.html",
                "MediaType": "application/xhtml+xml"
              },
              {
                "Id": "css-remote",
                "Href": "https://os.vers.one/EpubReader/styles/docfx.css",
                "MediaType": "text/css"
              },
              {
                "Id": "image-remote",
                "Href": "https://os.vers.one/EpubReader/images/logo.svg",
                "MediaType": "image/svg+xml"
              },
              {
                "Id": "font-remote",
                "Href": "https://os.vers.one/EpubReader/fonts/glyphicons-halflings-regular.ttf",
                "MediaType": "application/x-font-truetype"
              },
              {
                "Id": "item-toc",
                "Href": "toc.html",
                "MediaType": "application/xhtml+xml",
                "Properties": [
                  "NAV"
                ]
              }
            ]
          },
          "Spine": {}
        },
        "Epub3NavDocument": {
          "FilePath": "Content/toc.html",
          "Navs": [
            {
              "Type": "TOC",
              "Head": "Table of Contents",
              "Ol": {
                "Lis": [
                  {
                    "Span": {
                      "Text": "Test header"
                    }
                  }
                ]
              }
            }
          ]
        },
        "ContentDirectoryPath": "Content"
      },
      "Content": {
        "Cover": {
          "$content": "epub://Content/cover.jpg",
          "FilePath": "Content/cover.jpg",
          "Key": "cover.jpg",
          "ContentType": "IMAGE_JPEG",
          "ContentMimeType": "image/jpeg"
        },
        "NavigationHtmlFile": {
          "$content": "epub://Content/toc.html",
          "FilePath": "Content/toc.html",
          "Key": "toc.html",
          "ContentType": "XHTML_1_1",
          "ContentMimeType": "application/xhtml+xml"
        },
        "Html": {
          "Local": {
            "chapter.html": {
              "$content": "epub://Content/chapter.html",
              "FilePath": "Content/chapter.html",
              "Key": "chapter.html",
              "ContentType": "XHTML_1_1",
              "ContentMimeType": "application/xhtml+xml"
            },
            "toc.html": {
              "$content": "epub://Content/toc.html",
              "FilePath": "Content/toc.html",
              "Key": "toc.html",
              "ContentType": "XHTML_1_1",
              "ContentMimeType": "application/xhtml+xml"
            }
          },
          "Remote": {
            "https://os.vers.one/EpubReader/toc.html": {
              "$content": "https://os.vers.one/EpubReader/toc.html",
              "Url": "https://os.vers.one/EpubReader/toc.html",
              "Key": "https://os.vers.one/EpubReader/toc.html",
              "ContentType": "XHTML_1_1",
              "ContentMimeType": "application/xhtml+xml"
            }
          }
        },
        "Css": {
          "Local": {
            "styles.css": {
              "$content": "epub://Content/styles.css",
              "FilePath": "Content/styles.css",
              "Key": "styles.css",
              "ContentType": "CSS",
              "ContentMimeType": "text/css"
            }
          },
          "Remote": {
            "https://os.vers.one/EpubReader/styles/docfx.css": {
              "$content": "https://os.vers.one/EpubReader/styles/docfx.css",
              "Url": "https://os.vers.one/EpubReader/styles/docfx.css",
              "Key": "https://os.vers.one/EpubReader/styles/docfx.css",
              "ContentType": "CSS",
              "ContentMimeType": "text/css"
            }
          }
        },
        "Images": {
          "Local": {
            "cover.jpg": {
              "$content": "epub://Content/cover.jpg",
              "FilePath": "Content/cover.jpg",
              "Key": "cover.jpg",
              "ContentType": "IMAGE_JPEG",
              "ContentMimeType": "image/jpeg"
            }
          },
          "Remote": {
            "https://os.vers.one/EpubReader/images/logo.svg": {
              "$content": "https://os.vers.one/EpubReader/images/logo.svg",
              "Url": "https://os.vers.one/EpubReader/images/logo.svg",
              "Key": "https://os.vers.one/EpubReader/images/logo.svg",
              "ContentType": "IMAGE_SVG",
              "ContentMimeType": "image/svg+xml"
            }
          }
        },
        "Fonts": {
          "Local": {
            "font.ttf": {
              "$content": "epub://Content/font.ttf",
              "FilePath": "Content/font.ttf",
              "Key": "font.ttf",
              "ContentType": "FONT_TRUETYPE",
              "ContentMimeType": "application/x-font-truetype"
            }
          },
          "Remote": {
            "https://os.vers.one/EpubReader/fonts/glyphicons-halflings-regular.ttf": {
              "$content": "https://os.vers.one/EpubReader/fonts/glyphicons-halflings-regular.ttf",
              "Url": "https://os.vers.one/EpubReader/fonts/glyphicons-halflings-regular.ttf",
              "Key": "https://os.vers.one/EpubReader/fonts/glyphicons-halflings-regular.ttf",
              "ContentType": "FONT_TRUETYPE",
              "ContentMimeType": "application/x-font-truetype"
            }
          }
        },
        "AllFiles": {
          "Local": {
            "chapter.html": {
              "$type": "EpubLocalTextContentFile",
              "$content": "epub://Content/chapter.html",
              "FilePath": "Content/chapter.html",
              "Key": "chapter.html",
              "ContentType": "XHTML_1_1",
              "ContentMimeType": "application/xhtml+xml"
            },
            "toc.html": {
              "$type": "EpubLocalTextContentFile",
              "$content": "epub://Content/toc.html",
              "FilePath": "Content/toc.html",
              "Key": "toc.html",
              "ContentType": "XHTML_1_1",
              "ContentMimeType": "application/xhtml+xml"
            },
            "styles.css": {
              "$type": "EpubLocalTextContentFile",
              "$content": "epub://Content/styles.css",
              "FilePath": "Content/styles.css",
              "Key": "styles.css",
              "ContentType": "CSS",
              "ContentMimeType": "text/css"
            },
            "cover.jpg": {
              "$type": "EpubLocalByteContentFile",
              "$content": "epub://Content/cover.jpg",
              "FilePath": "Content/cover.jpg",
              "Key": "cover.jpg",
              "ContentType": "IMAGE_JPEG",
              "ContentMimeType": "image/jpeg"
            },
            "font.ttf": {
              "$type": "EpubLocalByteContentFile",
              "$content": "epub://Content/font.ttf",
              "FilePath": "Content/font.ttf",
              "Key": "font.ttf",
              "ContentType": "FONT_TRUETYPE",
              "ContentMimeType": "application/x-font-truetype"
            }
          },
          "Remote": {
            "https://os.vers.one/EpubReader/toc.html": {
              "$type": "EpubRemoteTextContentFile",
              "$content": "https://os.vers.one/EpubReader/toc.html",
              "Url": "https://os.vers.one/EpubReader/toc.html",
              "Key": "https://os.vers.one/EpubReader/toc.html",
              "ContentType": "XHTML_1_1",
              "ContentMimeType": "application/xhtml+xml"
            },
            "https://os.vers.one/EpubReader/styles/docfx.css": {
              "$type": "EpubRemoteTextContentFile",
              "$content": "https://os.vers.one/EpubReader/styles/docfx.css",
              "Url": "https://os.vers.one/EpubReader/styles/docfx.css",
              "Key": "https://os.vers.one/EpubReader/styles/docfx.css",
              "ContentType": "CSS",
              "ContentMimeType": "text/css"
            },
            "https://os.vers.one/EpubReader/images/logo.svg": {
              "$type": "EpubRemoteByteContentFile",
              "$content": "https://os.vers.one/EpubReader/images/logo.svg",
              "Url": "https://os.vers.one/EpubReader/images/logo.svg",
              "Key": "https://os.vers.one/EpubReader/images/logo.svg",
              "ContentType": "IMAGE_SVG",
              "ContentMimeType": "image/svg+xml"
            },
            "https://os.vers.one/EpubReader/fonts/glyphicons-halflings-regular.ttf": {
              "$type": "EpubRemoteByteContentFile",
              "$content": "https://os.vers.one/EpubReader/fonts/glyphicons-halflings-regular.ttf",
              "Url": "https://os.vers.one/EpubReader/fonts/glyphicons-halflings-regular.ttf",
              "Key": "https://os.vers.one/EpubReader/fonts/glyphicons-halflings-regular.ttf",
              "ContentType": "FONT_TRUETYPE",
              "ContentMimeType": "application/x-font-truetype"
            }
          }
        }
      }
    }
  }
]